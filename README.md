# cosmos

cosmos是一个.Net分布式应用开发框架。

她的设计初衷是游戏服务器框架，但它并不是一个游戏服务器开发框架......

她的核心只做一件事：启动你预先定义好的Actor结点，并且确保这些Actor结点可以互相通讯。

至于这个Actor结点做什么，她不管。


## 说说麦当佬和震宫肤的分布式故事

从前有间叫麦当佬的餐厅，最初它只有一家很小的门店，后来为了容纳更多的人，把小小的门店扩大成大大的门店； 再后来，它发现一家大大的门店已经满足不到客人的需求了，开第二家、第三家；到现在，全世界开了几万家的门店，并且在这个过程中，它累积了这种世界各地分布式开店的管理经验，整理成一本《麦当佬分布式开店经验真经》，并以这个管理结构去继续开它的新店。

后来，有一家新开的震宫肤餐厅，生意红红火火，这时候它就开了第2家餐厅。老板发现，要管理好2家餐厅可不是一件容易的事：A分店要推出新品“辣椒豆浆”， 要怎么做，才能让B分店同时的推出“辣椒豆浆”呢？ 
这首先要解决这两家分店的通讯问题： A分店店长要和B分店店长互相熟悉，并且A分店要把方案、供货传递到B分店，

老板对这些并没有太多的经验，他在想，要是像麦当佬那样开30000家分店，同时要推出“辣椒豆浆”，要怎么解决这30000家分店的同步推产品问题？30000家分店要怎么做好管理？

震宫肤的老板居然明白不重复造轮子的道理，他决定Cosmos分布式特许经营管理咨询公司。


这家Cosmos分布式特许经营管理咨询公司，专门为各种特许加盟式企业出谋划策，制定分布式经营策略。它为客户提供一些分布式经营的策略：

* 规划分店： 规划好分店，分店的类型、地址、产品差异，是否需要设置旗舰店
* 启动分店： 装修、布置，开业！
* 互相发现： 分店实在太多了，这时候要确保所有店对其它分店都互相知晓。刚开始可以把所有分店印在纸巾袋上
* 分店通讯：所有的分店，都有一个内线电话； 比如A分店没有青瓜了，立刻拨通B分店的电话呼唤青瓜一箩！

Cosmos咨询公司为震宫肤餐厅出谋划策，但是，它并不参与具体业务，只提供管理框架。

震宫肤得自己招聘，自己进货，自己收银。看到Cosmos咨询公司如此牛掰，震宫肤老板希望Cosmos咨询公司能帮忙把装修改善点。

Cosmos咨询公司旗下有家分公司叫Cosmos.Component集团公司，集团属下有一家Cosmos装修子公司。正好把震宫肤的装修问题也解决了。
老板再请来Cosmos.Component集团旗下的Cosmos财务子公司，把融资的问题又解决了。

嗯，Cosmos麾下有很多业务子公司，供客户使用，但Cosmos自己本身只做分布式咨询管理。

这家Cosmos咨询公司，像极了本项目的架构。

PS: 如果你突然对麦当佬加盟店的管理兴趣盎然，可搜关键字“特许经营管理”

## 什么是Actor结点？

## 核心功能:
	* 工程：创建工程，定义好所有的Actor
	* 启动：启动某个或所有Actor
	* 发现：Actor之间会互相发现（通过文件或发现服务）
	* 通讯: Actor之间可以互相通讯(RPC)

	除了以上功能，其余的一切都是附加组件、功能组件。


可能有点玄...什么意思？她有什么应用场景？

## 应用场景模拟



### 分布式游戏服务器

### 运维管理工具

试想一下，现在叫你做这样的一件事：

** 给你1000台安装好Linux并可以随意SSH控制的主机，要求每台主机都要下载一个网络文件到根目录

1000台主机，不可能一台一台的进入并且执行命令。如果一个控制台可以控制所有的主机该多好啊？

这种分布式，用Actor来设计：

* 肉鸡Actor, 运行在这1000台Linux上
* 管理员Actor, 就运行在你自己的主机上吧, 向肉鸡Actor传递执行指令
 
 我们假设肉鸡Actor全部已经预先运行好，忽略怎么安装运行Actor的问题...




当然，现成的分布式运维工具类似Chef/Salt也是基于这种方式，并且已经做得很好，这里仅仅举例，没必要重新造轮子。

# 核心类库

- Cosmos
	- Cosmos.Framework
		- Cosmos.Actor
			- Cosmos.Rpc
- Cosmos.Framework.Components

## 
## 特性

* 仿U3D的协程，功能更强
* 分布式，既可多进程也可多线程
* 嵌入Node.js(edge.js)，作为脚本语言、配置语言
* 程序集热更新(DLL)

## 第三方库

* NLog
* MsgPack
* NetMQ
* JSON.Net
* NUnit

## 


